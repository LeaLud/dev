<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.css" media="all" />
    <title>PHP - Hypertext Preprocessor</title>
</head>
<body>
    <main>
        <button class="button-goback" onClick="history.back()">Go back</button>
        <h1>PHP - Hypertext Preprocessor</h1>
        <p>PHP es un lenguaje de programación interpretado del lado del servidor y de uso general que se adapta especialmente al desarrollo web.</p>
        <h2>Índice</h2>
        <ol>
            <li>
                <a href="#impresion-datos">Impresión de datos</a>
            </li>
            <li>
                <a href="#variables">Variables</a>
            </li>
            <li>
                <a href="#includes">Inclusión de archivos</a>
            </li>
            <li>
                <a href="#arrays">Arrays</a>
            </li>
            <li>
                <a href="#condicionales">Condicionales</a>
            </li>
            <li>
                <a href="#conectar-db">Conectar a la base de datos</a>
            </li>
            <li>
                <a href="#desconectar-db">Cerrar conexión a la base de datos</a>
            </li>
            <li>
                <a href="#obtener-id">Enviar y recibir un ID para obtener sus datos</a>
            </li>
            <li>
                <a href="#obtener-datos">Obtener datos</a>
            </li>
            <li>
                <a href="#do-while">Bucle do while datos</a>
            </li>
            <li>
                <a href="#foreach">foreach</a>
            </li>
        </ol>
        <h2><a name="impresion-datos" class="anchor">Impresión de datos</a></h2>
        <ol>
            <li>
                <div class="code-block">
&lt?php
    print "&lth2&gtHello World!&lt/h2&gt";
?&gt
                </div>
            </li>
            <li>
                <p>La función echo es más utilizada y permite imprimir varios valores simultáneamente</p>
                <div class="code-block">
&lt?php
    echo "&lth2&gtHello World!&lt/h2&gt", "&ltp&gtHello World!&lt/p&gt";
?&gt
                </div>
            </li>
            <li>
                <p>Imprimiendo la fecha</p>
                <div class="code-block">
&lt?php
    $date1 = date('Y-m-d');
    $date2 = date('Y/m/d');
    $date3 = date('d/m/Y');
    $date4 = date('l, F j, Y');

    echo "la fecha es $date4";
?&gt
                </div>
            </li>
            <li>
                <p>Cargando la fecha de hoy en el campo de un formulario</p>
                <div class="code-block">
&ltinput type='date' name='date' value='".date('Y-m-d')."' /&gt
                </div>
            </li>
        </ol>
        <h2><a name="variables" class="anchor">Variables</a></h2>
        <div class="code-block">
&lt?php
    $myVar = "Esto es un string";

    $myNumVar = 8520;
?&gt
        </div>

        <h2><a name="includes" class="anchor">Inclusión de archivos</a></h2>
        <div class="code-block">
&lt?php
    include "ARCHIVO.php";
    include "RUTA/ARCHIVO.php";
?&gt
        </div>
        <h2><a name="arrays" class="anchor">Arrays</a></h2>
        <div class="code-block">
&lt?php
    $myArray = array("Leandro", 38, "Argentina", "Italiana");

    echo $myArray[2];
?&gt
        </div>
        <h2><a name="condicionales" class="anchor">Condicionales</a></h2>
        <div class="code-block">
&lt?php
$var1 = 34;
    $var2 = 45;

    if ($var1 &gt $var2) {
        echo "$var1 es mayor";
    } elseif ($var1 === $var2) {
        echo "los valores son iguales";
    } else {
        echo "$var1 es menor que $var2";
    }
?&gt
        </div>
        <h2><a name="conectar-db" class="anchor">Conectar a la base de datos</a></h2>
        <div class="code-block">
&lt?php
    $conn = new mysqli("localhost", "root", "", "php_test");
    if ($conn->connect_errno) {
        echo "Fallo al conectar a MySQL: (" . $conn->connect_errno . ") " . $conn->connect_error;
    }
    echo $mysqli->host_info . "\n";
?&gt
        </div>
        <div class="code-block">
&lt?php
    $conn = mysqli_connect("127.0.0.1", "root", "", "php_test");
    if ($conn-&gtconnect_errno) {
        echo "Fallo al conectar a MySQL: (" . $conn-&gtconnect_errno . ") " . $conn-&gtconnect_error;
    }
    echo $conn-&gthost_info . "\n";
?&gt
        </div>
        <h2><a name="desconectar-db" class="anchor">Cerrar la conexión a la base de datos</a></h2>
        <ol>
            <li>
                <div class="code-block">
&lt?php
    mysqli_close($conn);
?&gt
                </div>
            </li>
            <li>
                <div class="code-block">
&lt?php
    $conn->close();
?&gt
                </div>
            </li>
        </ol>
        <h2><a name="obtener-id" class="anchor">Enviar y recibir un ID para obtener sus datos</a></h2>
        <ol>
            <li>
                <p>Enviando un ID a través de una variable en la URL</p>
                <div class="code-block">
&lt?php
    echo "
        &lta href='articulo.php?id=".$row['id']."'&gt&lt/a&gt
    ";
?&gt
                </div>
            </li>
            <li>
                <p>Si existe un ID, tomarlo y cargarlo en una variable. Sino se envió un ID, retornar mensaje de error</p>
                <div class="code-block">
&lt?php
    if (isset($_GET['id'])) {
        $id = $_GET['id'];
    } else {
        echo "No se proporcionó un ID en la URL.";
    }
?&gt
                </div>
            </li>
        </ol>
        <h2><a name="obtener-datos" class="anchor">Obtener datos de la base de datos</a></h2>
        <ol>
            <li>
                <p>Definiendo la consulta SQL que recuperará los datos</p>
                <div class="code-block">
&lt?php
    $query = mysqli_query($conn, "SELECT * FROM articulos");
    if (!$query) {
        die('Consulta no válida: ' . mysqli_error());
    }
?&gt
                </div>
                <div class="code-block">
&lt?php
    $sql = "SELECT * FROM articulos";
    $query = mysqli_query($conn, $sql);
    if (!$query) {
        die('Consulta no válida: ' . mysqli_error());
    }
?&gt
                </div>
            </li>
            <li>
                <p>Bucle para obtener datos en serie</p>
                <div class="code-block">
&lt?php
    while ($row = mysqli_fetch_array($query)) {
        echo "&ltdiv style='border: 1px solid #333;'&gt".$row["titulo"]."&lt/div&gt";
    }
?&gt
                </div>
                <div class="code-block">
&lt?php
    while ($row = mysqli_fetch_assoc($query)) {
        echo "&ltdiv style='border: 1px solid #333;'&gt".$row["titulo"]."&lt/div&gt";
    }
?&gt
                </div>
            </li>
            <li>
                <p>Función para obtener un determinado dato de la tabla</p>
                <div class="code-block">
&lt?php
    $row = mysqli_fetch_row($query);

    echo "&ltdiv&gt&ltp&gtTitular del día&lt/p&gt&lt/div&gt
    &ltdiv&gt&ltp&gt.$row[1].&lt/p&gt&lt/div&gt"
?&gt
                </div>
            </li>
        </ol>
        <h2><a name="do-while" class="anchor">Bucle do while</a></h2>
        <div class="code-block">
&lt?php
    $i = 0;
    do {
        echo "
            mostrando el valor de ".$i." 25 veces
        ";
        $i += 1;
    }
    while ($i &lt 25);
?&gt
        </div>
        <h2><a name="foreach" class="anchor">foreach</a></h2>
        <ol>
            <li>
                <p>Retornando datos por cada columna de la fila. Por cada retorno de $row se imprime $x en el bucle</p>
                <div class="code-block">
&lt?php
    foreach ($row as $x) {
        echo "
        &ltpicture&gt
            &lta href='".$x."' target='_blank'&gt&ltimg src='".$x."' alt='' /&gt&lt/a&gt
        &lt/picture&gt
        ";
    }
?&gt
                </div>
            </li>
            <li>
                <p>Retornando datos a partir de una determinada fila</p>
                <div class="code-block">
&lt?php
    $images = array_slice($row, 4);
    foreach ($images as $x) {
        echo "
        &ltpicture&gt
            &lta href='".$x."' target='_blank'&gt&ltimg src='".$x."' alt='' /&gt&lt/a&gt
        &lt/picture&gt
        ";
    }
?&gt
                </div>
            </li>
            <li>
                <p>Retornando datos de un rango de filas</p>
                <div class="code-block">
&lt?php
    $images = array_slice($row, 4, 6);
    foreach ($images as $x) {
        echo "
        &ltpicture&gt
            &lta href='".$x."' target='_blank'&gt&ltimg src='".$x."' alt='' /&gt&lt/a&gt
        &lt/picture&gt
        ";
    }
?&gt
                </div>
            </li>
            <li>
                <p>Retornando datos de un rango de filas ignorando las filas vacías</p>
                <div class="code-block">
&lt?php
    $images = array_slice($row, 4, 6);
    foreach ($images as $x) {
        if (!empty($x)) {
            echo "
                &ltpicture&gt
                    &lta href='".$x."' target='_blank'&gt&ltimg src='".$x."' alt='' /&gt&lt/a&gt
                &lt/picture&gt
            ";
        }
    }
?&gt
                </div>
            </li>
        </ol>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <a href="javascript:" id="return-to-top"><span>></a>
        <script>
        // ===== Scroll to Top ==== 
        $(window).scroll(function() {
            if ($(this).scrollTop() >= 100) {        // If page is scrolled more than 50px
                $('#return-to-top').fadeIn(200);    // Fade in the arrow
            } else {
                $('#return-to-top').fadeOut(200);   // Else fade out the arrow
            }
        });
        $('#return-to-top').click(function() {      // When arrow is clicked
            $('body,html').animate({
                scrollTop : 0                       // Scroll to top of body
            }, 50);
        });
        </script>
    </main>
    <script src="javascript-basics.js"></script>
</body>
</html>